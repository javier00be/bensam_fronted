<!-- src/app/nuevas-tendencias/nuevas-tendencias.component.html -->

<div class="mb-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <!-- Título principal de la sección -->
  <h3 class="text-3xl font-extrabold text-gray-900 mb-4 text-center">
    Nuevas Tendencias
  </h3>
  <!-- Subtítulo descriptivo -->
  <p class="text-lg text-gray-600 mb-8 text-center">
    Explora las últimas tendencias y encuentra tu estilo ideal.
  </p>

  <!-- Botón principal de llamada a la acción "Comprar Ahora" -->
  <div class="flex justify-center mb-12">
    <button (click)="onComprarClick()"
      class="bg-indigo-600 text-white font-semibold px-10 py-3 rounded-lg shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 transition-all duration-300 ease-in-out transform hover:scale-105">
      Comprar Ahora
    </button>
  </div>

  <!-- Contenedor de la cuadrícula de productos -->
  <!-- La cuadrícula es responsiva: 1 columna en móvil, 2 en sm, 3 en md, 4 en lg -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
    <!-- Bucle *ngFor para iterar sobre la lista de productos -->
    <div *ngFor="let product of products"
      class="bg-white border border-gray-200 rounded-xl shadow-md overflow-hidden p-4 text-center transform transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1">
      <!-- Imagen del producto -->
      <img [alt]="product.name"
        class="mx-auto mb-4 rounded-lg object-cover w-full h-56 sm:h-64"
        height="250"
        [src]="product.image"
        width="200"
        onerror="this.onerror=null; this.src='https://placehold.co/200x250/E0E0E0/333333?text=No+Image';" />
        <!-- onerror fallback for images -->

      <!-- Nombre del producto -->
      <h4 class="font-bold text-lg text-gray-800 mb-1">
        {{ product.name }}
      </h4>
      <!-- Precio del producto, formateado a dos decimales -->
      <p class="text-md text-gray-700 mb-2">
        ${{ product.price.toFixed(2) }}
      </p>
      <!-- Contenedor para las estrellas de calificación -->
      <div class="text-yellow-500 flex justify-center items-center">
        <!-- Bucle para generar las estrellas de calificación (completas, medias, vacías) -->
        <ng-container *ngFor="let star of getStarArray(product.rating)">
          <i *ngIf="star === 1" class="fas fa-star text-lg mx-0.5"></i>         <!-- Estrella completa -->
          <i *ngIf="star === 0.5" class="fas fa-star-half-alt text-lg mx-0.5"></i> <!-- Media estrella -->
          <i *ngIf="star === 0" class="far fa-star text-lg mx-0.5"></i>          <!-- Estrella vacía -->
        </ng-container>
      </div>
    </div>
  </div>

</div>
